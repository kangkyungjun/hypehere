{% load static %}
{% load i18n %}
<aside class="sidebar">
    <!-- User Card -->
    <div class="sidebar-user-card">
        <div class="sidebar-user-info">
            <div class="avatar">
                {% if user.profile_picture %}
                    <img src="{{ user.profile_picture.url }}" alt="{{ user.username }}">
                {% else %}
                    <svg viewBox="0 0 100 100" fill="currentColor" style="color: var(--color-primary);">
                        <circle cx="50" cy="35" r="20"/>
                        <path d="M15 85 Q15 55 50 55 Q85 55 85 85 Z"/>
                    </svg>
                {% endif %}
            </div>
            <div>
                <div class="sidebar-user-name">{{ user.username }}</div>
                <div class="text-sm text-light">{{ user.email }}</div>
            </div>
        </div>
        <div class="sidebar-user-stats">
            <div class="sidebar-user-stat">
                <div class="sidebar-user-stat-value">{{ user.get_follower_count }}</div>
                <div class="sidebar-user-stat-label">{% trans "íŒ”ë¡œì›Œ" %}</div>
            </div>
            <div class="sidebar-user-stat">
                <div class="sidebar-user-stat-value">{{ user.get_following_count }}</div>
                <div class="sidebar-user-stat-label">{% trans "íŒ”ë¡œì‰" %}</div>
            </div>
            <div class="sidebar-user-stat">
                <div class="sidebar-user-stat-value">{{ user.posts.count }}</div>
                <div class="sidebar-user-stat-label">{% trans "í¬ìŠ¤íŠ¸" %}</div>
            </div>
        </div>
    </div>

    <!-- Main Navigation -->
    <div class="sidebar-section">
        <div class="sidebar-title">{% trans "ë©”ë‰´" %}</div>
        <nav class="sidebar-nav">
            <a href="{% url 'home' %}" class="sidebar-nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                </svg>
                <span>{% trans "í™ˆ í”¼ë“œ" %}</span>
            </a>
            <a href="#" class="sidebar-nav-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                </svg>
                <span>{% trans "íƒìƒ‰" %}</span>
            </a>
            <a href="#" class="sidebar-nav-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
                <span>{% trans "ë§¤ì¹­" %}</span>
                <span class="badge badge-accent ml-auto">{% trans "New" %}</span>
            </a>
            <a href="{% url 'chat:messages' %}" class="sidebar-nav-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
                <span>{% trans "ë©”ì‹œì§€" %}</span>
            </a>
            <a href="#" class="sidebar-nav-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                    <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
                <span>{% trans "ì±Œë¦°ì§€" %}</span>
            </a>
            <a href="{% url 'accounts:profile' %}" class="sidebar-nav-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
                <span>{% trans "ë‚´ í”„ë¡œí•„" %}</span>
            </a>
        </nav>
    </div>

    <!-- Learning Section -->
    <div class="sidebar-section">
        <div class="sidebar-title">{% trans "í•™ìŠµ ì¤‘ì¸ ì–¸ì–´" %}</div>
        <div class="flex flex-col gap-sm">
            <div class="flex items-center justify-between p-sm" style="background-color: var(--color-bg-secondary); border-radius: var(--radius-md);">
                <div class="flex items-center gap-sm">
                    <span style="font-size: 24px;">ğŸ‡°ğŸ‡·</span>
                    <span class="font-medium">{% trans "í•œêµ­ì–´" %}</span>
                </div>
                <span class="badge badge-primary">{% trans "ì›ì–´ë¯¼" %}</span>
            </div>
            <div class="flex items-center justify-between p-sm" style="background-color: var(--color-bg-secondary); border-radius: var(--radius-md);">
                <div class="flex items-center gap-sm">
                    <span style="font-size: 24px;">ğŸ‡ºğŸ‡¸</span>
                    <span class="font-medium">English</span>
                </div>
                <span class="badge badge-secondary">B2</span>
            </div>
        </div>
    </div>

    <!-- Trending Tags -->
    <div class="sidebar-section">
        <div class="sidebar-title">{% trans "íŠ¸ë Œë”© íƒœê·¸" %}</div>
        <div class="flex flex-col gap-xs">
            <a href="#" class="text-sm text-primary">#KoreanCulture</a>
            <a href="#" class="text-sm text-primary">#TOPIKì¤€ë¹„</a>
            <a href="#" class="text-sm text-primary">#LanguageExchange</a>
            <a href="#" class="text-sm text-primary">#ì„œìš¸_ë°‹ì—…</a>
            <a href="#" class="text-sm text-primary">#K-Drama</a>
        </div>
    </div>

    <!-- Suggested Users -->
    <div class="sidebar-section">
        <div class="sidebar-title">{% trans "ì¶”ì²œ ì‚¬ìš©ì" %}</div>
        <div class="flex flex-col gap-md">
            <div class="flex items-center gap-sm">
                <div class="avatar avatar-sm">
                    <svg viewBox="0 0 100 100" fill="currentColor" style="color: var(--color-secondary);">
                        <circle cx="50" cy="35" r="20"/>
                        <path d="M15 85 Q15 55 50 55 Q85 55 85 85 Z"/>
                    </svg>
                </div>
                <div class="flex-1">
                    <div class="font-medium text-sm">Sarah Kim</div>
                    <div class="text-xs text-light">ğŸ‡ºğŸ‡¸ â†’ ğŸ‡°ğŸ‡·</div>
                </div>
                <button class="btn btn-sm btn-outline">{% trans "íŒ”ë¡œìš°" %}</button>
            </div>
            <div class="flex items-center gap-sm">
                <div class="avatar avatar-sm">
                    <svg viewBox="0 0 100 100" fill="currentColor" style="color: var(--color-accent);">
                        <circle cx="50" cy="35" r="20"/>
                        <path d="M15 85 Q15 55 50 55 Q85 55 85 85 Z"/>
                    </svg>
                </div>
                <div class="flex-1">
                    <div class="font-medium text-sm">ç”°ä¸­å¤ªéƒ</div>
                    <div class="text-xs text-light">ğŸ‡¯ğŸ‡µ â†’ ğŸ‡°ğŸ‡·</div>
                </div>
                <button class="btn btn-sm btn-outline">{% trans "íŒ”ë¡œìš°" %}</button>
            </div>
        </div>
    </div>
</aside>
