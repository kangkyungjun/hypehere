{% extends 'base.html' %}
{% load static %}

{% block title %}회원가입 - HypeHere{% endblock %}

{% block content %}
<div class="container" style="max-width: 480px; margin: 0 auto; padding: var(--space-lg);">
    <!-- Header -->
    <div style="text-align: center; margin-bottom: var(--space-xl);">
        <h1 style="font-size: var(--font-size-3xl); color: var(--color-primary); margin-bottom: var(--space-sm);">
            HypeHere
        </h1>
        <p style="font-size: var(--font-size-base); color: var(--color-text-light);">
            언어 교환 파트너를 만나보세요
        </p>
    </div>

    <!-- Registration Form Card -->
    <div class="card">
        <div class="card-body">
            <h2 style="font-size: var(--font-size-xl); margin-bottom: var(--space-lg); text-align: center;">
                회원가입
            </h2>

            <!-- Error Alert (Hidden by default) -->
            <div id="error-alert" class="alert alert-error hidden" style="margin-bottom: var(--space-md);">
                <span id="error-message"></span>
            </div>

            <!-- Success Alert (Hidden by default) -->
            <div id="success-alert" class="alert alert-success hidden" style="margin-bottom: var(--space-md);">
                <span id="success-message">회원가입 성공! 로그인 중...</span>
            </div>

            <form id="register-form" method="post">
                {% csrf_token %}

                <!-- Email (Login ID) -->
                <div class="form-group">
                    <label for="email" class="form-label">이메일 (로그인 ID) *</label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        class="form-control"
                        placeholder="example@email.com"
                        required
                        autocomplete="email"
                    >
                    <span class="form-text">이메일로 로그인합니다.</span>
                    <span class="form-error" id="email-error"></span>
                </div>

                <!-- Nickname (Display Name) -->
                <div class="form-group">
                    <label for="nickname" class="form-label">닉네임 (표시 이름) *</label>
                    <input
                        type="text"
                        id="nickname"
                        name="nickname"
                        class="form-control"
                        placeholder="홍길동"
                        required
                        maxlength="50"
                        autocomplete="nickname"
                    >
                    <span class="form-text">다른 사용자에게 표시될 이름입니다. 중복 가능합니다.</span>
                    <span class="form-error" id="nickname-error"></span>
                </div>

                <!-- Password -->
                <div class="form-group">
                    <label for="password" class="form-label">비밀번호 *</label>
                    <input
                        type="password"
                        id="password"
                        name="password"
                        class="form-control"
                        placeholder="8자 이상, 영문+숫자 조합"
                        required
                        minlength="8"
                        autocomplete="new-password"
                    >
                    <span class="form-text">최소 8자 이상, 영문과 숫자를 포함해주세요.</span>
                    <span class="form-error" id="password-error"></span>
                </div>

                <!-- Password Confirm -->
                <div class="form-group">
                    <label for="password_confirm" class="form-label">비밀번호 확인 *</label>
                    <input
                        type="password"
                        id="password_confirm"
                        name="password_confirm"
                        class="form-control"
                        placeholder="비밀번호를 다시 입력하세요"
                        required
                        minlength="8"
                        autocomplete="new-password"
                    >
                    <span class="form-error" id="password_confirm-error"></span>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary btn-block" id="submit-btn">
                    <span id="submit-text">가입하기</span>
                    <span id="submit-loading" class="spinner spinner-primary" class="hidden"></span>
                </button>
            </form>

            <!-- Login Link -->
            <div style="text-align: center; margin-top: var(--space-lg);">
                <p class="text-sm text-light">
                    이미 계정이 있으신가요?
                    <a href="{% url 'accounts:login' %}" class="text-primary font-semibold">로그인</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Additional Info -->
    <div style="text-align: center; margin-top: var(--space-lg); color: var(--color-text-light); font-size: var(--font-size-sm);">
        <p>가입하시면 <a href="#" class="text-primary">이용약관</a> 및 <a href="#" class="text-primary">개인정보처리방침</a>에 동의하는 것으로 간주됩니다.</p>
    </div>
</div>

<!-- JavaScript for AJAX Registration -->
<script src="{% static 'js/auth.js' %}"></script>
{% endblock %}
