{% extends 'base.html' %}
{% load static %}

{% block title %}즐겨찾기 - HypeHere{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/favorites.css' %}">
<link rel="stylesheet" href="{% static 'css/layouts.css' %}">
<link rel="stylesheet" href="{% static 'css/post_view_modal.css' %}">
{% endblock %}

{% block content %}
<div class="favorites-container">
    <!-- Header -->
    <div class="favorites-header">
        <button class="btn-back" onclick="window.history.back()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
        </button>
        <h1 class="favorites-title">즐겨찾기</h1>
    </div>

    <!-- Tabs -->
    <div class="favorites-tabs">
        <button class="tab-button active" data-tab="chat-rooms">
            <span>채팅방</span>
            <span class="tab-count" id="chat-count">0</span>
        </button>
        <button class="tab-button" data-tab="posts">
            <span>게시물</span>
            <span class="tab-count" id="post-count">0</span>
        </button>
    </div>

    <!-- Loading State -->
    <div class="loading-state" id="loading-state">
        <div class="loading-spinner"></div>
    </div>

    <!-- Chat Rooms Tab -->
    <div class="tab-content active" id="chat-rooms-tab">
        <!-- Chat rooms will be loaded here -->
        <div class="favorites-grid" id="chat-rooms-grid"></div>

        <!-- Empty State -->
        <div class="empty-state hidden" id="chat-empty-state">
            <div class="empty-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                </svg>
            </div>
            <h3>즐겨찾기한 채팅방이 없습니다</h3>
            <p>관심 있는 채팅방을 즐겨찾기에 추가해보세요!</p>
            <a href="{% url 'chat:open_chat_list' %}" class="btn btn-primary">채팅방 둘러보기</a>
        </div>
    </div>

    <!-- Posts Tab -->
    <div class="tab-content" id="posts-tab">
        <!-- Posts will be loaded here -->
        <div class="feed-container" id="posts-feed"></div>

        <!-- Empty State -->
        <div class="empty-state hidden" id="posts-empty-state">
            <div class="empty-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
                </svg>
            </div>
            <h3>즐겨찾기한 게시물이 없습니다</h3>
            <p>마음에 드는 게시물을 즐겨찾기에 추가해보세요!</p>
            <a href="{% url 'home' %}" class="btn btn-primary">피드 보러가기</a>
        </div>
    </div>
</div>

<!-- Include Post View Modal -->
{% include 'partials/post_view_modal.html' %}
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/favorites.js' %}"></script>
{% endblock %}
