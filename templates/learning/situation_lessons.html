{% extends 'base.html' %}
{% load static %}

{% block title %}{{ category.name_ko }} - ìƒí™©ë³„ í•™ìŠµ{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/situation-learning.css' %}">
{% endblock %}

{% block content %}
<div class="situation-container">
    <!-- Header -->
    <div class="situation-header">
        <a href="{% url 'learning:situation_categories' %}?language={{ selected_language }}" class="back-btn">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
        </a>
        <h1 class="situation-title">{{ category.icon }} {{ category.name_ko }}</h1>
        <p class="situation-subtitle">{{ category.name_en }}</p>
    </div>

    <!-- Lesson List -->
    <div class="lesson-list">
        {% for lesson in lessons %}
        <a href="{% url 'learning:situation_detail' category.code lesson.slug %}?language={{ selected_language }}"
           class="lesson-card">
            <div class="lesson-number">{{ forloop.counter }}</div>
            <div class="lesson-info">
                <h3 class="lesson-title-ko">{{ lesson.title_ko }}</h3>
                <p class="lesson-title-en">{{ lesson.title_en }}</p>
                <div class="lesson-meta">
                    <span class="expression-count">{{ lesson.get_expression_count }}ê°œ í‘œí˜„</span>
                    <span class="view-count">ì¡°íšŒìˆ˜ {{ lesson.view_count|default:0 }}</span>
                </div>
            </div>
            <svg class="lesson-arrow" viewBox="0 0 24 24" width="20" height="20">
                <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
        </a>
        {% empty %}
        <div class="empty-state">
            <div class="empty-icon">ğŸ“š</div>
            <h3>ì•„ì§ ë ˆìŠ¨ì´ ì—†ìŠµë‹ˆë‹¤</h3>
            <p>ê³§ ìƒˆë¡œìš´ ë ˆìŠ¨ì´ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/situation-learning.js' %}"></script>
{% endblock %}
