# ==================== Production Environment Template ====================
# Copy this file and fill in the actual values for production deployment
# This file should NOT be committed to Git

# ==================== Django Configuration ====================

# Debug mode (MUST be False in production)
DEBUG=False

# Django secret key (Generate new one for production)
# Generate using: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
DJANGO_SECRET_KEY=your-production-secret-key-here

# Allowed hosts (comma-separated domains)
# Include ALB DNS name, custom domain, and EC2 IP
ALLOWED_HOSTS=*.elb.amazonaws.com,yourdomain.com,www.yourdomain.com,<EC2_PUBLIC_IP>

# ==================== Site Configuration ====================

# Site URL (MUST use HTTPS in production)
# This will be your ALB DNS name or custom domain
SITE_URL=https://hypehere-alb-1234567890.us-east-2.elb.amazonaws.com

# ==================== Email Configuration ====================

# Gmail SMTP configuration
# For Gmail, generate App Password at: https://myaccount.google.com/apppasswords
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-gmail-app-password

# ==================== Security Configuration ====================

# CSRF trusted origins (comma-separated, HTTPS only)
# Must include ALB DNS name and custom domain
CSRF_TRUSTED_ORIGINS=https://*.elb.amazonaws.com,https://yourdomain.com,https://www.yourdomain.com

# ==================== Database Configuration (AWS RDS PostgreSQL) ====================

# AWS RDS PostgreSQL Database URL
# Format: postgresql://user:password@host:5432/dbname
# Get the endpoint from RDS Console: https://console.aws.amazon.com/rds/
DATABASE_URL=postgresql://hypehere_app:your_secure_app_password@hypehere-db.c9abc123xyz.us-east-2.rds.amazonaws.com:5432/hypehere

# ==================== Redis Configuration (AWS ElastiCache) ====================

# AWS ElastiCache Redis URL
# Format: redis://host:6379 (no password by default for VPC-internal ElastiCache)
# Get the endpoint from ElastiCache Console: https://console.aws.amazon.com/elasticache/
REDIS_URL=redis://hypehere-cache.abc123.0001.use2.cache.amazonaws.com:6379

# ==================== AWS S3 Configuration ====================

# S3 bucket for static and media files
AWS_STORAGE_BUCKET_NAME=hypehere-static-media-20250103
AWS_S3_REGION_NAME=us-east-2

# AWS credentials (IAM user with S3 access)
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=wJalrXUtn...

# ==================== Instructions ====================
#
# To use this file for deployment:
#
# 1. Create AWS resources (see DEPLOYMENT.md for detailed steps):
#    - VPC with Public/Private Subnets
#    - RDS PostgreSQL (db.t3.micro, us-east-2)
#    - ElastiCache Redis (cache.t3.micro, us-east-2)
#    - S3 bucket for static/media files
#    - EC2 instance (t3.small, Ubuntu 22.04)
#    - Application Load Balancer (ALB)
#    - Security Groups for EC2, RDS, ElastiCache, ALB
#
# 2. Fill in the values above with actual credentials
#
# 3. Copy this file to EC2 instance as .env:
#    scp -i hypehere-key.pem .env.production ubuntu@<EC2_IP>:/home/django/hypehere/.env
#
# 4. Verify environment variables:
#    ssh -i hypehere-key.pem ubuntu@<EC2_IP>
#    sudo su - django
#    cd hypehere
#    cat .env  # Check values
#
# 5. DO NOT commit this file to Git!
#    - Verify .gitignore contains: .env*
#
# ==================== Architecture Overview ====================
#
# User → ALB (HTTPS) → EC2 (Nginx + Django/Daphne)
#                        ↓
#                   VPC Private Network
#                        ↓
#            RDS PostgreSQL  |  ElastiCache Redis
#                        ↓
#                      AWS S3
#
# Monthly Cost Estimate:
# - EC2 t3.small: $15/월
# - RDS db.t3.micro: $15/월
# - ElastiCache cache.t3.micro: $15/월
# - ALB: $20/월
# - S3: $1-3/월
# - Data Transfer: $2-5/월
# Total: $58-70/월
#
# Cost Optimization:
# - Reserved Instances (1년): 30-40% 절감 → $35-45/월
# - Savings Plans: 최대 66% 할인
#
# ==================== Security Notes ====================
#
# 1. RDS is in Private Subnet (no public access)
# 2. ElastiCache is in Private Subnet (no public access)
# 3. Only EC2 and ALB have public access
# 4. All services communicate via VPC internal network
# 5. Security Groups enforce strict firewall rules:
#    - RDS: Port 5432 from EC2 Security Group only
#    - ElastiCache: Port 6379 from EC2 Security Group only
#    - EC2: Port 22 (SSH), 80/443 (HTTP/HTTPS) from ALB Security Group
#    - ALB: Port 80/443 from 0.0.0.0/0 (internet)
#
# ==================== Deployment Checklist ====================
#
# Before deploying:
# [ ] Generated new DJANGO_SECRET_KEY
# [ ] Updated all placeholder values with real credentials
# [ ] RDS endpoint and credentials verified
# [ ] ElastiCache endpoint verified
# [ ] S3 bucket created and IAM user with S3 access created
# [ ] EC2 instance running and SSH accessible
# [ ] ALB created and DNS name obtained
# [ ] Security Groups configured correctly
# [ ] .env file copied to EC2 instance
# [ ] Django migrations run successfully
# [ ] Static files collected to S3
# [ ] Systemd service running
# [ ] Nginx configured and running
# [ ] ALB health check passing
# [ ] WebSocket connections working
# [ ] Admin page accessible
#
# ==================== End of Instructions ====================
