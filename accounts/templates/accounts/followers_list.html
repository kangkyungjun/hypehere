{% extends 'base.html' %}
{% load static %}

{% block title %}팔로워 - HypeHere{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/explore.css' %}">
{% endblock %}

{% block content %}
<div class="explore-container">
    <!-- Header -->
    <div class="explore-header" style="padding: var(--space-md) var(--space-lg); border-bottom: 1px solid var(--color-border); margin-bottom: var(--space-lg);">
        <button type="button" class="btn-back" onclick="window.location.href='{% url 'accounts:profile_detail' username %}'" aria-label="뒤로가기">
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="15 18 9 12 15 6"/>
            </svg>
        </button>
        <h2 style="margin: 0; font-size: 1.25rem; font-weight: 600; flex: 1; text-align: center; margin-right: 40px;">팔로워</h2>
    </div>

    <!-- Content -->
    <div class="search-results" id="search-results">
        <!-- Loading State -->
        <div class="loading-state" id="loading-state">
            <div class="spinner"></div>
            <p>불러오는 중...</p>
        </div>

        <!-- Empty State -->
        <div class="empty-state" id="empty-state" class="hidden">
            <h3>팔로워가 없습니다</h3>
            <p class="text-light">아직 팔로워가 없습니다</p>
        </div>

        <!-- Users Section -->
        <div class="users-section" id="users-section" class="hidden">
            <div class="users-container" id="users-container">
                <!-- User cards will be inserted here by JavaScript -->
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/follow.js' %}"></script>
<script src="{% static 'js/followers_list.js' %}"></script>
<script>
    // Initialize the followers list manager
    document.addEventListener('DOMContentLoaded', () => {
        new FollowersListManager('{{ username }}', 'followers');
    });
</script>
{% endblock %}
